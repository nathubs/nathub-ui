(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{345:function(a,t,s){"use strict";s.r(t);var e=s(40),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"nathub"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nathub"}},[a._v("#")]),a._v(" Nathub")]),a._v(" "),s("p",[a._v("Nathub是一款轻量级、高性能、功能强大的"),s("strong",[a._v("内网穿透")]),a._v("代理服务器。目前支持"),s("strong",[a._v("tcp、udp流量转发")]),a._v("，可支持任何"),s("strong",[a._v("tcp、udp")]),a._v("上层协议（访问内网网站、本地支付接口调试、ssh访问、远程桌面，内网dns解析等等……），此外还"),s("strong",[a._v("支持内网http代理、内网socks5代理")]),a._v("、"),s("strong",[a._v("p2p等")]),a._v("，并带有功能强大的web管理端。")]),a._v(" "),s("h2",{attrs:{id:"特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[a._v("#")]),a._v(" 特点")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("做微信公众号开发、小程序开发等----\x3e 域名代理模式")])]),a._v(" "),s("li",[s("p",[a._v("想在外网通过ssh连接内网的机器，做云服务器到内网服务器端口的映射，----\x3e tcp代理模式")])]),a._v(" "),s("li",[s("p",[a._v("在非内网环境下使用内网dns，或者需要通过udp访问内网机器等----\x3e udp代理模式")])]),a._v(" "),s("li",[s("p",[a._v("在外网使用HTTP代理访问内网站点----\x3e http代理模式")])]),a._v(" "),s("li",[s("p",[a._v("搭建一个内网穿透ss，在外网如同使用内网vpn一样访问内网资源或者设备----\x3e socks5代理模式")])])]),a._v(" "),s("h1",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("h2",{attrs:{id:"安装包安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装包安装"}},[a._v("#")]),a._v(" 安装包安装")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/ehang-io/nps/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("releases"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("下载对应的系统版本即可，服务端和客户端是单独的")]),a._v(" "),s("h2",{attrs:{id:"docker安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装"}},[a._v("#")]),a._v(" docker安装")]),a._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://hub.docker.com/r/ffdfgdfg/nps",target:"_blank",rel:"noopener noreferrer"}},[a._v("server"),s("OutboundLink")],1),a._v(" "),s("a",{attrs:{href:"https://hub.docker.com/r/ffdfgdfg/npc",target:"_blank",rel:"noopener noreferrer"}},[a._v("client"),s("OutboundLink")],1)])]),a._v(" "),s("h1",{attrs:{id:"启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[a._v("#")]),a._v(" 启动")]),a._v(" "),s("h2",{attrs:{id:"客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[a._v("#")]),a._v(" 客户端")]),a._v(" "),s("ul",[s("li",[a._v("下载客户端安装包并解压，进入到解压目录")]),a._v(" "),s("li",[a._v("点击web管理中客户端前的+号，复制启动命令")]),a._v(" "),s("li",[a._v("执行启动命令，linux直接执行即可，windows将./nathub换成nathub.exe用"),s("strong",[a._v("cmd执行")])])]),a._v(" "),s("p",[a._v("如果使用"),s("code",[a._v("powershell")]),a._v("运行，"),s("strong",[a._v("请将ip括起来！")])]),a._v(" "),s("p",[a._v("如果需要注册到系统服务可查看"),s("a",{attrs:{href:"/use?id=%E6%B3%A8%E5%86%8C%E5%88%B0%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1"}},[a._v("注册到系统服务")])]),a._v(" "),s("h2",{attrs:{id:"版本检查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本检查"}},[a._v("#")]),a._v(" 版本检查")]),a._v(" "),s("ul",[s("li",[a._v("对客户端以及服务的均可以使用参数"),s("code",[a._v("-version")]),a._v("打印版本")]),a._v(" "),s("li",[s("code",[a._v("nathub -version")]),a._v("或"),s("code",[a._v("./nathub -version")])]),a._v(" "),s("li",[s("code",[a._v("nathub -version")]),a._v("或"),s("code",[a._v("./nathub -version")])])]),a._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("ul",[s("li",[a._v("客户端连接后，在web中配置对应穿透服务即可")]),a._v(" "),s("li",[a._v("可以查看"),s("a",{attrs:{href:"/example"}},[a._v("使用示例")])])]),a._v(" "),s("h1",{attrs:{id:"启动-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-2"}},[a._v("#")]),a._v(" 启动")]),a._v(" "),s("h2",{attrs:{id:"服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[a._v("#")]),a._v(" 服务端")]),a._v(" "),s("p",[a._v("下载完服务器压缩包后，解压，然后进入解压后的文件夹")]),a._v(" "),s("ul",[s("li",[a._v("执行安装命令")])]),a._v(" "),s("p",[a._v("对于linux|darwin "),s("code",[a._v("sudo ./nps install")])]),a._v(" "),s("p",[a._v("对于windows，管理员身份运行cmd，进入安装目录 "),s("code",[a._v("nps.exe install")])]),a._v(" "),s("ul",[s("li",[a._v("启动")])]),a._v(" "),s("p",[a._v("对于linux|darwin "),s("code",[a._v("sudo nps start")])]),a._v(" "),s("p",[a._v("对于windows，管理员身份运行cmd，进入程序目录 "),s("code",[a._v("nps.exe start")])]),a._v(" "),s("p",[s("code",[a._v("安装后windows配置文件位于 C:\\Program Files\\nps，linux和darwin位于/etc/nps")])]),a._v(" "),s("p",[a._v("停止和重启可用，stop和restart")]),a._v(" "),s("p",[s("strong",[a._v("如果发现没有启动成功，可以使用"),s("code",[a._v("nps(.exe) stop")]),a._v("，然后运行"),s("code",[a._v("nps.(exe)")]),a._v("运行调试，或查看日志")]),a._v("(Windows日志文件位于当前运行目录下，linux和darwin位于/var/log/nps.log)")]),a._v(" "),s("ul",[s("li",[a._v("访问服务端ip:web服务端口（默认为8080）")]),a._v(" "),s("li",[a._v("使用用户名和密码登陆（默认admin/123，正式使用一定要更改）")]),a._v(" "),s("li",[a._v("创建客户端")])]),a._v(" "),s("h2",{attrs:{id:"客户端-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端-2"}},[a._v("#")]),a._v(" 客户端")]),a._v(" "),s("ul",[s("li",[a._v("下载客户端安装包并解压，进入到解压目录")]),a._v(" "),s("li",[a._v("点击web管理中客户端前的+号，复制启动命令")]),a._v(" "),s("li",[a._v("执行启动命令，linux直接执行即可，windows将./nathub.exe用"),s("strong",[a._v("cmd执行")])])]),a._v(" "),s("p",[a._v("如果使用"),s("code",[a._v("powershell")]),a._v("运行，"),s("strong",[a._v("请将ip括起来！")])]),a._v(" "),s("p",[a._v("如果需要注册到系统服务可查看"),s("a",{attrs:{href:"/use?id=%E6%B3%A8%E5%86%8C%E5%88%B0%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1"}},[a._v("注册到系统服务")])]),a._v(" "),s("h2",{attrs:{id:"版本检查-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本检查-2"}},[a._v("#")]),a._v(" 版本检查")]),a._v(" "),s("ul",[s("li",[a._v("对客户端以及服务的均可以使用参数"),s("code",[a._v("-version")]),a._v("打印版本")]),a._v(" "),s("li",[s("code",[a._v("nathub -version")]),a._v("或"),s("code",[a._v("./nathub -version")])]),a._v(" "),s("li",[s("code",[a._v("nathub -version")]),a._v("或"),s("code",[a._v("./nathub -version")])])]),a._v(" "),s("h2",{attrs:{id:"配置-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-2"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("ul",[s("li",[a._v("客户端连接后，在web中配置对应穿透服务即可")]),a._v(" "),s("li",[a._v("可以查看"),s("a",{attrs:{href:"/example"}},[a._v("使用示例")])])]),a._v(" "),s("h1",{attrs:{id:"增强功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#增强功能"}},[a._v("#")]),a._v(" 增强功能")]),a._v(" "),s("h2",{attrs:{id:"nat类型检测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nat类型检测"}},[a._v("#")]),a._v(" nat类型检测")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(" ./nathub nat -stun_addr=stun.stunprotocol.org:3478\n")])])]),s("p",[a._v("如果p2p双方都是Symmetric Nat，肯定不能成功，其他组合都有较大成功率。"),s("code",[a._v("stun_addr")]),a._v("可以指定stun服务器地址。")]),a._v(" "),s("h2",{attrs:{id:"状态检查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#状态检查"}},[a._v("#")]),a._v(" 状态检查")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(" ./nathub status -config=nathub配置文件路径\n")])])]),s("h2",{attrs:{id:"重载配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重载配置文件"}},[a._v("#")]),a._v(" 重载配置文件")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(" ./nathub restart -config=nathub配置文件路径\n")])])]),s("h2",{attrs:{id:"通过代理连接nps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过代理连接nps"}},[a._v("#")]),a._v(" 通过代理连接nps")]),a._v(" "),s("p",[a._v("有时候运行nathub的内网机器无法直接访问外网，此时可以可以通过socks5代理连接nps")]),a._v(" "),s("p",[a._v("对于配置文件方式启动,设置")]),a._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[a._v("[common]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("proxy_url")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v("socks5://111:222@127.0.0.1:8024")]),a._v("\n")])])]),s("p",[a._v("对于无配置文件模式,加上参数")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("-proxy=socks5://111:222@127.0.0.1:8024\n")])])]),s("p",[a._v("支持socks5和http两种模式")]),a._v(" "),s("p",[a._v("即socks5://username:password@ip:port")]),a._v(" "),s("p",[a._v("或http://username:password@ip:port")]),a._v(" "),s("h2",{attrs:{id:"群晖支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#群晖支持"}},[a._v("#")]),a._v(" 群晖支持")]),a._v(" "),s("p",[a._v("可在releases中下载spk群晖套件，例如"),s("code",[a._v("nathub_x64-6.1_0.19.0-1.spk")])]),a._v(" "),s("h1",{attrs:{id:"faq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[a._v("#")]),a._v(" FAQ")]),a._v(" "),s("ul",[s("li",[a._v("客户端无法连接服务端")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("请检查配置文件中的所有端口是否在安全组，防火墙放行\n请检查vkey是否对应\n请检查版本是否对应\n")])])]),s("ul",[s("li",[a._v("服务端配置文件修改无效")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("install 之后，Linux 配置文件在 /etc/nps\n")])])]),s("ul",[s("li",[a._v("p2p穿透失败 "),s("a",{attrs:{href:"https://ehang-io.github.io/nps/#/example?id=p2p%e6%9c%8d%e5%8a%a1",target:"_blank",rel:"noopener noreferrer"}},[a._v("p2p服务"),s("OutboundLink")],1)])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("双方nat类型都是Symmetric Nat一定不成功，建议先查看nat类型。请按照文档操作(标题上有超链接)\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);