(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{366:function(t,a,s){"use strict";s.r(a);var n=s(40),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本使用"}},[t._v("#")]),t._v(" 基本使用")]),t._v(" "),s("h2",{attrs:{id:"无配置文件模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#无配置文件模式"}},[t._v("#")]),t._v(" 无配置文件模式")]),t._v(" "),s("p",[t._v("此模式的各种配置在服务端web管理中完成,客户端除运行一条命令外无需任何其他设置")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" ./npc -server=ip:port -vkey=web界面中显示的密钥\n")])])]),s("h2",{attrs:{id:"注册到系统服务-开机启动、守护进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注册到系统服务-开机启动、守护进程"}},[t._v("#")]),t._v(" 注册到系统服务(开机启动、守护进程)")]),t._v(" "),s("p",[t._v("对于linux、darwin")]),t._v(" "),s("ul",[s("li",[t._v("注册："),s("code",[t._v("sudo ./npc install 其他参数（例如-server=xx -vkey=xx或者-config=xxx）")])]),t._v(" "),s("li",[t._v("启动："),s("code",[t._v("sudo npc start")])]),t._v(" "),s("li",[t._v("停止："),s("code",[t._v("sudo npc stop")])]),t._v(" "),s("li",[t._v("如果需要更换命令内容需要先卸载"),s("code",[t._v("./npc uninstall")]),t._v("，再重新注册")])]),t._v(" "),s("p",[t._v("对于windows，使用管理员身份运行cmd")]),t._v(" "),s("ul",[s("li",[t._v("注册："),s("code",[t._v("npc.exe install 其他参数（例如-server=xx -vkey=xx或者-config=xxx）")])]),t._v(" "),s("li",[t._v("启动："),s("code",[t._v("npc.exe start")])]),t._v(" "),s("li",[t._v("停止："),s("code",[t._v("npc.exe stop")])]),t._v(" "),s("li",[t._v("如果需要更换命令内容需要先卸载"),s("code",[t._v("npc.exe uninstall")]),t._v("，再重新注册")]),t._v(" "),s("li",[t._v("如果需要当客户端退出时自动重启客户端，请按照如图所示配置\n"),s("img",{attrs:{src:"https://github.com/ehang-io/nps/blob/master/docs/windows_client_service_configuration.png?raw=true",alt:"image"}})])]),t._v(" "),s("p",[t._v("注册到服务后，日志文件windows位于当前目录下，linux和darwin位于/var/log/npc.log")]),t._v(" "),s("h2",{attrs:{id:"客户端更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端更新"}},[t._v("#")]),t._v(" 客户端更新")]),t._v(" "),s("p",[t._v("首先进入到对于的客户端二进制文件目录")]),t._v(" "),s("p",[t._v("请首先执行"),s("code",[t._v("sudo npc stop")]),t._v("或者"),s("code",[t._v("npc.exe stop")]),t._v("停止运行，然后")]),t._v(" "),s("p",[t._v("对于linux")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" npc-update update\n")])])]),s("p",[t._v("对于windows")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("npc-update.exe update\n")])])]),s("p",[t._v("更新完成后，执行执行"),s("code",[t._v("sudo npc start")]),t._v("或者"),s("code",[t._v("npc.exe start")]),t._v("重新运行即可完成升级")]),t._v(" "),s("p",[t._v("如果无法更新成功，可以直接自行下载releases压缩包然后覆盖原有的npc二进制文件")]),t._v(" "),s("h2",{attrs:{id:"配置文件模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件模式"}},[t._v("#")]),t._v(" 配置文件模式")]),t._v(" "),s("p",[t._v("此模式使用nps的公钥或者客户端私钥验证，各种配置在客户端完成，同时服务端web也可以进行管理")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" ./npc -config=npc配置文件路径\n")])])]),s("h2",{attrs:{id:"配置文件说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件说明"}},[t._v("#")]),t._v(" 配置文件说明")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/ehang-io/nps/tree/master/conf/npc.conf",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例配置文件"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"全局配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局配置"}},[t._v("#")]),t._v(" 全局配置")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("conn_type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("tcp")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("111")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("222")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("compress")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("crypt")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("rate_limit")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("10000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("flow_limit")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("100")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("remark")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("test")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("max_conn")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#pprof_addr=0.0.0.0:9999")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("server_addr")]),t._v(" "),s("td",[t._v("服务端ip/域名:port")])]),t._v(" "),s("tr",[s("td",[t._v("conn_type")]),t._v(" "),s("td",[t._v("与服务端通信模式(tcp或kcp)")])]),t._v(" "),s("tr",[s("td",[t._v("vkey")]),t._v(" "),s("td",[t._v("服务端配置文件中的密钥(非web)")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("socks5或http(s)密码保护用户名(可忽略)")])]),t._v(" "),s("tr",[s("td",[t._v("password")]),t._v(" "),s("td",[t._v("socks5或http(s)密码保护密码(可忽略)")])]),t._v(" "),s("tr",[s("td",[t._v("compress")]),t._v(" "),s("td",[t._v("是否压缩传输(true或false或忽略)")])]),t._v(" "),s("tr",[s("td",[t._v("crypt")]),t._v(" "),s("td",[t._v("是否加密传输(true或false或忽略)")])]),t._v(" "),s("tr",[s("td",[t._v("rate_limit")]),t._v(" "),s("td",[t._v("速度限制，可忽略")])]),t._v(" "),s("tr",[s("td",[t._v("flow_limit")]),t._v(" "),s("td",[t._v("流量限制，可忽略")])]),t._v(" "),s("tr",[s("td",[t._v("remark")]),t._v(" "),s("td",[t._v("客户端备注，可忽略")])]),t._v(" "),s("tr",[s("td",[t._v("max_conn")]),t._v(" "),s("td",[t._v("最大连接数，可忽略")])]),t._v(" "),s("tr",[s("td",[t._v("pprof_addr")]),t._v(" "),s("td",[t._v("debug pprof ip:port")])])])]),t._v(" "),s("h4",{attrs:{id:"域名代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#域名代理"}},[t._v("#")]),t._v(" 域名代理")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[web1]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("host")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("a.proxy.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("target_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("127.0.0.1:8080,127.0.0.1:8082")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("host_change")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("www.proxy.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("header_set_proxy")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("nps")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("web1")]),t._v(" "),s("td",[t._v("备注")])]),t._v(" "),s("tr",[s("td",[t._v("host")]),t._v(" "),s("td",[t._v("域名(http")])]),t._v(" "),s("tr",[s("td",[t._v("target_addr")]),t._v(" "),s("td",[t._v("内网目标，负载均衡时多个目标，逗号隔开")])]),t._v(" "),s("tr",[s("td",[t._v("host_change")]),t._v(" "),s("td",[t._v("请求host修改")])]),t._v(" "),s("tr",[s("td",[t._v("header_xxx")]),t._v(" "),s("td",[t._v("请求header修改或添加，header_proxy表示添加header proxy:nps")])])])]),t._v(" "),s("h4",{attrs:{id:"tcp隧道模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp隧道模式"}},[t._v("#")]),t._v(" tcp隧道模式")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[tcp]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("tcp")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("target_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("127.0.0.1:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("9001")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mode")]),t._v(" "),s("td",[t._v("tcp")])]),t._v(" "),s("tr",[s("td",[t._v("server_port")]),t._v(" "),s("td",[t._v("在服务端的代理端口")])]),t._v(" "),s("tr",[s("td",[t._v("tartget_addr")]),t._v(" "),s("td",[t._v("内网目标")])])])]),t._v(" "),s("h4",{attrs:{id:"udp隧道模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#udp隧道模式"}},[t._v("#")]),t._v(" udp隧道模式")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[udp]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("udp")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("target_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("127.0.0.1:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("9002")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mode")]),t._v(" "),s("td",[t._v("udp")])]),t._v(" "),s("tr",[s("td",[t._v("server_port")]),t._v(" "),s("td",[t._v("在服务端的代理端口")])]),t._v(" "),s("tr",[s("td",[t._v("target_addr")]),t._v(" "),s("td",[t._v("内网目标")])])])]),t._v(" "),s("h4",{attrs:{id:"http代理模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http代理模式"}},[t._v("#")]),t._v(" http代理模式")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[http]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("httpProxy")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("9003")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mode")]),t._v(" "),s("td",[t._v("httpProxy")])]),t._v(" "),s("tr",[s("td",[t._v("server_port")]),t._v(" "),s("td",[t._v("在服务端的代理端口")])])])]),t._v(" "),s("h4",{attrs:{id:"socks5代理模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#socks5代理模式"}},[t._v("#")]),t._v(" socks5代理模式")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[socks5]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("socks5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("9004")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("multi_account")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("multi_account.conf")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mode")]),t._v(" "),s("td",[t._v("socks5")])]),t._v(" "),s("tr",[s("td",[t._v("server_port")]),t._v(" "),s("td",[t._v("在服务端的代理端口")])]),t._v(" "),s("tr",[s("td",[t._v("multi_account")]),t._v(" "),s("td",[t._v("socks5多账号配置文件（可选),配置后使用basic_username和basic_password无法通过认证")])])])]),t._v(" "),s("h4",{attrs:{id:"私密代理模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#私密代理模式"}},[t._v("#")]),t._v(" 私密代理模式")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[secret_ssh]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("secret")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("ssh2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("target_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("10.1.50.2:22")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mode")]),t._v(" "),s("td",[t._v("secret")])]),t._v(" "),s("tr",[s("td",[t._v("password")]),t._v(" "),s("td",[t._v("唯一密钥")])]),t._v(" "),s("tr",[s("td",[t._v("target_addr")]),t._v(" "),s("td",[t._v("内网目标")])])])]),t._v(" "),s("h4",{attrs:{id:"p2p代理模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#p2p代理模式"}},[t._v("#")]),t._v(" p2p代理模式")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[p2p_ssh]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("p2p")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("ssh2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("target_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("10.1.50.2:22")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mode")]),t._v(" "),s("td",[t._v("p2p")])]),t._v(" "),s("tr",[s("td",[t._v("password")]),t._v(" "),s("td",[t._v("唯一密钥")])]),t._v(" "),s("tr",[s("td",[t._v("target_addr")]),t._v(" "),s("td",[t._v("内网目标")])])])]),t._v(" "),s("h4",{attrs:{id:"文件访问模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件访问模式"}},[t._v("#")]),t._v(" 文件访问模式")]),t._v(" "),s("p",[t._v("利用nps提供一个公网可访问的本地文件服务，此模式仅客户端使用配置文件模式方可启动")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_addr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1.1.1.1:8024")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("vkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[file]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("file")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("server_port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("9100")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("local_path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/tmp/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("strip_pre")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/web/")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mode")]),t._v(" "),s("td",[t._v("file")])]),t._v(" "),s("tr",[s("td",[t._v("server_port")]),t._v(" "),s("td",[t._v("服务端开启的端口")])]),t._v(" "),s("tr",[s("td",[t._v("local_path")]),t._v(" "),s("td",[t._v("本地文件目录")])]),t._v(" "),s("tr",[s("td",[t._v("strip_pre")]),t._v(" "),s("td",[t._v("前缀")])])])]),t._v(" "),s("p",[t._v("对于"),s("code",[t._v("strip_pre")]),t._v("，访问公网"),s("code",[t._v("ip:9100/web/")]),t._v("相当于访问"),s("code",[t._v("/tmp/")]),t._v("目录")]),t._v(" "),s("h4",{attrs:{id:"断线重连"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#断线重连"}},[t._v("#")]),t._v(" 断线重连")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[common]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("auto_reconnection")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("true")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);